# Environment

Code is executed within a Dockerized Ubuntu 14.04 container.

## Language

[go1.7](https://golang.org/doc/go1.7) (go1.7.5 2017/01/26)

## Packages

## Testing

### Frameworks

BDD testing framework [Ginkgo](http://onsi.github.io/ginkgo/)
with [Gomega](http://onsi.github.io/gomega/) matcher library.


### Test Structure

```go
package kata

func Add(a, b int) int {
  return a + b
}
```

```go
package kata_test

import (
  . "github.com/onsi/ginkgo"
  . "github.com/onsi/gomega"
  . "codewarrior/kata"
)

var _ = Describe("Add", func() {
  It("should add integers", func() {
    Expect(Add(1, 1)).To(Equal(2))
  })
})
```

#### Note

Package name (`kata` in above example) can be arbitrary (`[a-z][a-z\d]*`).

The import path is `codewarrior/{package name}`.

Following code is automatically generated by `lib/runners/go.js`:

```go
package kata_test

import (
  . "github.com/onsi/ginkgo"
  . "github.com/onsi/gomega"
  "testing"
  "codewars/reporter"
)

func TestKata(t *testing.T) {
  RegisterFailHandler(Fail)
  RunSpecsWithCustomReporters(t, "Kata Test", []Reporter{reporter.New()})
}
```

### Matchers

```go
Expect(ACTUAL).To(M)
Expect(ACTUAL).ToNot(M)
Expect(ACTUAL).NotTo(M)
```

See [onsi.github.io/gomega/#provided-matchers](http://onsi.github.io/gomega/#provided-matchers) for details.

- Asserting Equivalence
  - Equal(expected interface{})
  - BeEquivalentTo(expected interface{})
  - BeIdenticalTo(expected interface{})
  - BeAssignableToTypeOf(expected interface)

- Asserting Presence
  - BeNil()
  - BeZero()

- Asserting Truthiness
  - BeTrue()
  - BeFalse()

- Asserting on Errors
  - HaveOccurred()
  - Succeed()
  - MatchError(expected interface{})

- Working with Channels
  - BeClosed()
  - Receive()
  - BeSent(value interface{})

- Working with files
  - BeAnExistingFile()
  - BeARegularFile()
  - BeADirectory()

- Working with Strings, JSON and YAML
  - ContainSubstring(substr string, args ...interface{})
  - HavePrefix(prefix string, args ...interface{})
  - HaveSuffix(suffix string, args ...interface{})
  - MatchRegexp(regexp string, args ...interface{})
  - MatchJSON(json interface{})
  - MatchYAML(yaml interface{})

- Working with Collections
  - BeEmpty()
  - HaveLen(count int)
  - HaveCap(count int)
  - ContainElement(element interface{})
  - ConsistOf(element ...interface{})
  - HaveKey(key interface{})
  - HaveKeyWithValue(key interface{}, value interface{})

- Working with Numbers and Times
  - BeNumerically(comparator string, compareTo ...interface{})
  - BeTemporally(comparator string, compareTo time.Time, threshold ...time.Duration)

- Asserting on Panics
  - Panic()

- Composing Matchers
  - And(matchers ...GomegaMatcher)
  - SatisfyAll(matchers ...GomegaMatcher)
  - Or(matchers ...GomegaMatcher)
  - SatisfyAny(matchers ...GomegaMatcher)
  - Not(matcher GomegaMatcher)
  - WithTransform(transform interface{}, matcher GomegaMatcher)
